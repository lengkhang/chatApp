{"version":3,"sources":["../src/index.js"],"names":["PORT","app","server","createServer","use","exposedHeaders","json","limit","set","__dirname","req","res","success","wss","on","connection","console","log","message","listen","process","env","address","port"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA,IAAMA,OAAO,IAAb;AACA,IAAMC,MAAM,wBAAZ;AACAA,IAAIC,MAAJ,GAAa,eAAKC,YAAL,CAAkBF,GAAlB,CAAb;;AAEAA,IAAIG,GAAJ,CAAQ,sBAAO,KAAP,CAAR;;AAEAH,IAAIG,GAAJ,CAAQ,oBAAK;AACTC,oBAAgB;AADP,CAAL,CAAR;;AAIAJ,IAAIG,GAAJ,CAAQ,qBAAWE,IAAX,CAAgB;AACpBC,WAAO;AADa,CAAhB,CAAR;AAGAN,IAAIO,GAAJ,CAAQ,MAAR,EAAgBC,SAAhB;;AAEAR,IAAIG,GAAJ,CAAQ,UAACM,GAAD,EAAMC,GAAN,EAAc;AAClBA,QAAIL,IAAJ,CAAS;AACLM,iBAAS;AADJ,KAAT;AAGH,CAJD;;AAMAX,IAAIY,GAAJ,GAAU,gBAAW;AACjBX,YAAQD,IAAIC;AADK,CAAX,CAAV;;AAIAD,IAAIY,GAAJ,CAAQC,EAAR,CAAW,YAAX,EAAyB,UAACC,UAAD,EAAgB;AACrCC,YAAQC,GAAR,CAAY,sBAAZ;;AAEAF,eAAWD,EAAX,CAAc,SAAd,EAAyB,mBAAW;AAChCE,gBAAQC,GAAR,CAAY,gCAAZ,EAA8CC,OAA9C;AACH,KAFD;AAGH,CAND;;AAQAjB,IAAIC,MAAJ,CAAWiB,MAAX,CAAkBC,QAAQC,GAAR,CAAYrB,IAAZ,IAAoBA,IAAtC,EAA4C,YAAM;AAC1CgB,YAAQC,GAAR,6BAAsChB,IAAIC,MAAJ,CAAWoB,OAAX,GAAqBC,IAA3D;AACP,CAFD;;kBAIetB,G","file":"index.js","sourcesContent":["import http from 'http';\nimport express from 'express';\nimport cors from 'cors';\nimport morgan from 'morgan';\nimport bodyParser from 'body-parser';\nimport {Server} from 'uws';\n\nconst PORT = 3000;\nconst app = express();\napp.server = http.createServer(app);\n\napp.use(morgan('dev'));\n\napp.use(cors({\n    exposedHeaders: \"*\"\n}));\n\napp.use(bodyParser.json({\n    limit: '50mb'\n}));\napp.set('root', __dirname);\n\napp.use((req, res) => {\n    res.json({\n        success: true\n    });\n});\n\napp.wss = new Server({\n    server: app.server\n});\n\napp.wss.on('connection', (connection) => {\n    console.log('==> A new connection');\n\n    connection.on('message', message => {\n        console.log('==> Server received a message:', message);\n    });\n});\n\napp.server.listen(process.env.PORT || PORT, () => {\n        console.log(`App is running on port ${app.server.address().port}`);\n});\n\nexport default app;"]}